(function(){var b=this;var a=b.FormBinder;var c;if(typeof exports!=="undefined"){c=exports}else{c=b.FormBinder={}}c.VERSION="0.1.0";c.noConflict=function(){b.FormBinder=a;return this};c.options={events:["change","click","keypress"],attribute:"data-field-name"};c.bind=function(d,f){f=_.extend(c.options,f);var g=d.el;var e=d.model;$("["+f.attribute+"]",g).each(function(){var i=$(this).attr(f.attribute);var h=$("["+f.attribute+"="+i+"]",g);$(h).bind(f.events.join(" "),function(k){var j=c.get($(h));e.changed_attributes||(e.changed_attributes={});e.changed_attributes[i]=j});c.set($(h),(e.get(i)||""))})};c.clear=function(d,f){f=_.extend(c.options,f);var g=d.el;var e=d.model;$("["+f.attribute+"]",g).each(function(){var i=$(this).attr(f.attribute);var h=$("["+f.attribute+"="+i+"]",g);c.set($(h),(e._previousAttributes[i]||""))});e.changed_attributes={}};c.get=function(d){if(d.length>1&&d.is("input[type=checkbox]")){var e=_.map(d.filter(":checked"),function(f){return $(f).val()});return e}else{if(d.is("input[type=checkbox]")){return d.is(":checked")}else{if(d.length>1&&d.is("input[type=radio]")){return d.filter(":checked").val()}else{if(d.is("textarea")){return d.val()}else{if(d.is("select")){if(d.find("option:selected").length>1){var e=_.map(d.find("option:selected"),function(f){return $(f).val()})}else{var e=d.find("option:selected").val()}return e}else{return d.val()}}}}}};c.set=function(d,e){if(d.length>1&&d.is("input[type=checkbox]")){d.removeAttr("checked");_.each(e,function(f){d.filter("[value="+f+"]").attr("checked","checked")})}else{if(d.is("input[type=checkbox]")){if(e==1||e==true||e=="true"){d.attr("checked","checked")}else{d.removeAttr("checked")}}else{if(d.length>1&&d.is("input[type=radio]")){d.removeAttr("checked");d.filter("[value="+e+"]").attr("checked","checked")}else{if(d.is("textarea")){d.val(e)}else{if(d.is("select")){d.find("option").removeAttr("selected");if(_.isArray(e)&&d.attr("multiple")!=""){_.each(e,function(f){d.find("option[value="+f+"]").attr("selected","selected")})}else{d.find("option[value="+e+"]").attr("selected","selected")}}else{d.val(e)}}}}}}}).call(this);

